# Reflexion
#### Video Demo:  <URL https://youtu.be/EBpr0h1YSmE>
#### Description:
In my CS50x Final Project, I’ve tried to amalgamate all of my newfound knowledge with Python, Flask, SQL, HTML, CSS, Jinja and Javascript in creating a website of my own. My website, simply entitled “reflection” - albeit with the archaic, and fancier looking spelling of the word - is meant to be a digital journal for the user - of course, with a few added bells and whistles. I wanted to design something that could help people better understand themselves through both reflection and analysis, qualitatively and quantitatively, through both emotion and data.

Like many others, this website too starts with a login/register page. If the user is new to the website, they'll be asked to register a new account username and password, which will then be entered into a SQL database - much like how CS50's Finance Problem set worked. I've reused some code from Finance in this section to make sure that the user cooperates in logging in and registering an account in the correct way. Once registered, the user will be directed to the login page, via which, they can enter the site's home page. The home page, and any other pages contained within the site are only accesible upon login.

The site has 3 main sections: the Home/Entry page, the Digital Diary, and the Trends section. The home page is a simple web form containing two fields: the first is a numreical input field in which the user should input, on a scale of 1 - 100, a rating of their day. This rating is required, and is recorded into a separate SQL database. More on what happens with this data later. The other, more conventional field is optional, and it is a journal entry, or reflection. The hope is that through this reflection, as with traditional physical journals, the user is able to introspect and eventually retrospect over the progression of their ideas. This input is also recorded into that separate SQL database to be displayed eventually in the user's digital journal. Upon submitting the form, the user is simply redirected to the Home/Entry page again; as such, this route accepts both GET and POST requests.

There’s also page for the user’s digital diary, in which they can view all their previous entries and read over them if they so wish. The digital diary is a record of each of the user's reflections, ratings and the times at which they were recorded, ordered from old to new. By using the data from the "diary" database, and looping through it, I was able to display each of these three values in a tabular format on the digital diary page. This page only accepts GET requests. On this page, there is also a button to "clear" data. When this button is clicked via POST to the "/clear" route, the "diary" database deletes data for which the user_id corresponds to the user's current user_id.

The trends sectiob, however, is where the bulk of the website is contained. The trends section (as seen on the navbar throughout the website) is actually a dropdown of 3 separate pages, and 3 separate modes of visualising data. The idea is that through these 3 modes of data visualisation, the user is able to get a better insight into themselves, the ways they work, and take more precise informed action to improve themselves if they want to. I wanted to graphically (and thus more visually) represent the trend and significance of our constantly changing emotions, and so, hrough the ratings section of the form in the Home page, I collected quantitative data which I then wanted to graph.

Initially, I tried to graph this data using pandas to create a dataframe and matplotlib to create a graph off of that dataframe. While that worked locally, I soon found that the only way to get this graph onto my website (to the front end, on my HTML pages) was to save it as a png locally, and then link it in to my HTML page, or save it as a base64 value and embed that onto my HTML page. Both of these methods failed. I realised that it was unreasonably slow and memory intensive to save - or overwrite - a png file everytime a new entry is added to the database (the graph has to keep refreshing), and it would become very difficuly for me to handle the possibility of multiple users using the site at the same time.

So, I decided I would do the rendering client side, or at least some of it. Using pandas still, I prepared my data server-side, and included it in my HTML templates for line, bar, and pie graphs with Jinja. There, I used javascript, and chart.js to render each of line, bar and doughnut graphs on the three pages. Here is a quick overview of the 3 graphs:
        * The pie chart is a simple representation of the proportion of good and bad days.
        * Te bar chart is meant to provide an insight into how optimistic or pessimistic the user is, or the general emotional state that the user often is in.
        * The line graph, or trend over time, is the most important. It aims to provide an insight into the cyclical nature of human emotion. My hypothesis is that with enough truthful data, users should eventually be able to observe an undulating pattern in the way their days have gone, and by extension, their emotions.

The conclusions to draw from these insights is, of course, up to the users themselves.




